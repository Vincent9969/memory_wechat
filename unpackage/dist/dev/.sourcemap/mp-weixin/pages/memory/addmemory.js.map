{"version":3,"sources":["webpack:///E:/微信小程序工作空间/仿哔哩哔哩评论组件示例/main.js","webpack:///E:/微信小程序工作空间/仿哔哩哔哩评论组件示例/pages/memory/addmemory.vue?f40f","webpack:///E:/微信小程序工作空间/仿哔哩哔哩评论组件示例/pages/memory/addmemory.vue?80a7","webpack:///E:/微信小程序工作空间/仿哔哩哔哩评论组件示例/pages/memory/addmemory.vue?30ae","webpack:///E:/微信小程序工作空间/仿哔哩哔哩评论组件示例/pages/memory/addmemory.vue?f411","webpack:///E:/微信小程序工作空间/仿哔哩哔哩评论组件示例/pages/memory/addmemory.vue","webpack:///E:/微信小程序工作空间/仿哔哩哔哩评论组件示例/pages/memory/addmemory.vue?c2a2","webpack:///E:/微信小程序工作空间/仿哔哩哔哩评论组件示例/pages/memory/addmemory.vue?3e10"],"names":["createPage","Page","sourceType","sizeType","data","input_content","imageList","sourceTypeIndex","sizeTypeIndex","countIndex","count","startX","movedX","endX","memoryxh","index","onUnload","methods","publish","uni","showModal","content","showCancel","userInfo","getStorageSync","showLoading","title","length","addnNoImgMemory","i","console","log","hideLoading","switchTab","url","success","fail","e","uploadFile","websiteUrl","header","filePath","name","formData","fbrxh","xh","jynr","uploadFileRes","JSON","parse","status","error","msg","stringify","request","method","info","navigateTo","complete","getLocation","Promise","resolve","reject","type","res","close","splice","chooseImage","isFullImg","isContinue","concat","tempFilePaths","confirm","previewImage","current","target","dataset","src","urls","touchStart","mp","changedTouches","pageX","touchEnd","navigateBack"],"mappings":"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","file":"pages/memory/addmemory.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/memory/addmemory.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./addmemory.vue?vue&type=template&id=5e764ef8&scoped=true&\"\nvar renderjs\nimport script from \"./addmemory.vue?vue&type=script&lang=js&\"\nexport * from \"./addmemory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addmemory.vue?vue&type=style&index=0&id=5e764ef8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e764ef8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\谷歌下载\\\\微信小程序\\\\HBuilderX.2.5.1.20200103.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('5e764ef8')) {\n      api.createRecord('5e764ef8', component.options)\n    } else {\n      api.reload('5e764ef8', component.options)\n    }\n    module.hot.accept(\"./addmemory.vue?vue&type=template&id=5e764ef8&scoped=true&\", function () {\n      api.rerender('5e764ef8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"微信小程序工作空间/仿哔哩哔哩评论组件示例/pages/memory/addmemory.vue\"\nexport default component.exports","export * from \"-!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addmemory.vue?vue&type=template&id=5e764ef8&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addmemory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addmemory.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport image from '@/common/image.js';\r\n\r\nvar sourceType = [['camera'], ['album'], ['camera', 'album']];\r\nvar sizeType = [['compressed'], ['original'], ['compressed', 'original']];\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// title: 'choose/previewImage',\r\n\t\t\tinput_content: '',\r\n\t\t\timageList: [],\r\n\r\n\t\t\tsourceTypeIndex: 2,\r\n\t\t\tsourceType: ['拍照', '相册', '拍照或相册'],\r\n\t\t\tsizeTypeIndex: 2,\r\n\t\t\tsizeType: ['压缩', '原图', '压缩或原图'],\r\n\t\t\tcountIndex: 8,\r\n\t\t\tcount: [1, 2, 3, 4, 5, 6, 7, 8, 9],\r\n\r\n\t\t\t//侧滑返回start\r\n\t\t\tstartX: 0, //点击屏幕起始位置\r\n\t\t\tmovedX: 0, //横向移动的距离\r\n\t\t\tendX: 0, //接触屏幕后移开时的位置\r\n\t\t\tmemoryxh: '', //动态编号 多图的时候会用到\r\n\t\t\tindex:0,//上传图片的下标\r\n\t\t\t//end\r\n\t\t};\r\n\t},\r\n\tonUnload() {\r\n\t\t(this.imageList = []),\r\n\t\t\t(this.sourceTypeIndex = 2),\r\n\t\t\t(this.sourceType = ['拍照', '相册', '拍照或相册']),\r\n\t\t\t(this.sizeTypeIndex = 2),\r\n\t\t\t(this.sizeType = ['压缩', '原图', '压缩或原图']),\r\n\t\t\t(this.countIndex = 8);\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tasync publish() {\r\n\t\t\tif (!this.input_content) {\r\n\t\t\t\tuni.showModal({ content: '内容不能为空', showCancel: false });\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar userInfo = uni.getStorageSync('userInfo');\r\n\t\t\tif (!userInfo) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tuni.showLoading({ title: '发布中' });\r\n\t\t\tif (this.imageList.length < 1) {\r\n\t\t\t\tthis.addnNoImgMemory(this.input_content);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar i=this.index;\r\n\t\t\tif(i>=this.imageList.length){\r\n\t\t\t\tconsole.log('所有图片上传完毕');\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t\t//上传完图片隐藏\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl:'index',\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tconsole.log('跳转成功')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\tconsole.log('跳转失败')\r\n\t\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//var location = await this.getLocation();//位置信息,可删除,主要想记录一下异步转同步处理\r\n\t\t\tuni.uploadFile({\r\n\t\t\t\t//该上传仅为示例,可根据自己业务修改或封装,注意:统一上传可能会导致服务器压力过大\r\n\t\t\t\turl: this.websiteUrl + '/memory/addMemory', //仅为示例，非真实的接口地址\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t\t},\r\n\t\t\t\tfilePath: this.imageList[i],\r\n\t\t\t\tname: 'file',\r\n\t\t\t\tformData: {\r\n\t\t\t\t\t//后台以post方式接收\r\n\t\t\t\t\tmemoryxh: this.memoryxh,\r\n\t\t\t\t\tfbrxh: userInfo.xh, //自己系统中的用户id\r\n\t\t\t\t\tjynr: this.input_content //moment文字部分\r\n\t\t\t\t\t// 'longitude':location.longitude,//经度\r\n\t\t\t\t\t// 'latitude':location.latitude//纬度\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: uploadFileRes => {\r\n\t\t\t\t\tconsole.log(uploadFileRes.data);\r\n\t\t\t\t\tvar data=JSON.parse(uploadFileRes.data);\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\tif (data.status != 'success') {\r\n\t\t\t\t\t\tconsole.error(uploadFileRes.data.msg);\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: '发布动态失败'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.memoryxh = data.data.xh;\r\n\t\t\t\t\tthis.index++;\r\n\t\t\t\t\tthis.publish();\r\n\t\t\t\t},\r\n\t\t\t\tfail: e => {\r\n\t\t\t\t\tconsole.log('e: ' + JSON.stringify(e));\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tconsole.log('发布失败');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\taddnNoImgMemory(input_content) {\r\n\t\t\tvar userInfo = uni.getStorageSync('userInfo');\r\n\t\t\tif (!userInfo) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tuni.showLoading();\r\n\t\t\tuni.request({\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t},\r\n\t\t\t\turl: this.websiteUrl + '/memory/addMemory', //仅为示例，非真实的接口地址\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tdata: { fbrxh: userInfo.xh, jynr: input_content },\r\n\t\t\t\tsuccess: function(info) {\r\n\t\t\t\t\tif (info.data.status == 'error') {\r\n\t\t\t\t\t\tconsole.error(info.data.msg);\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: '发布动态失败'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: 'index'\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tfail: function(e) {\r\n\t\t\t\t\tconsole.log('获取失败了');\r\n\t\t\t\t},\r\n\t\t\t\tcomplete: () => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetLocation() {\r\n\t\t\t//h5中可能不支持,自己选择\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\ttype: 'wgs84',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: e => {\r\n\t\t\t\t\t\treject(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tclose(e) {\r\n\t\t\tthis.imageList.splice(e, 1);\r\n\t\t},\r\n\t\tchooseImage: async function() {\r\n\t\t\tif (this.imageList.length === 9) {\r\n\t\t\t\tlet isContinue = await this.isFullImg();\r\n\t\t\t\tconsole.log('是否继续?', isContinue);\r\n\t\t\t\tif (!isContinue) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tuni.chooseImage({\r\n\t\t\t\tsourceType: sourceType[this.sourceTypeIndex],\r\n\t\t\t\tsizeType: sizeType[this.sizeTypeIndex],\r\n\t\t\t\tcount: this.imageList.length + this.count[this.countIndex] > 9 ? 9 - this.imageList.length : this.count[this.countIndex],\r\n\t\t\t\tsuccess: res => {\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t\tthis.imageList = this.imageList.concat(res.tempFilePaths); //非APP平台不支持自定义压缩,暂时没有处理,可通过uni-app上传组件的sizeType属性压缩\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tisFullImg: function() {\r\n\t\t\treturn new Promise(res => {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent: '已经有9张图片了,是否清空现有图片？',\r\n\t\t\t\t\tsuccess: e => {\r\n\t\t\t\t\t\tif (e.confirm) {\r\n\t\t\t\t\t\t\tthis.imageList = [];\r\n\t\t\t\t\t\t\tres(true);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tres(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tres(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tpreviewImage: function(e) {\r\n\t\t\tvar current = e.target.dataset.src;\r\n\t\t\tuni.previewImage({\r\n\t\t\t\tcurrent: current,\r\n\t\t\t\turls: this.imageList\r\n\t\t\t});\r\n\t\t},\r\n\t\ttouchStart: function(e) {\r\n\t\t\tthis.startX = e.mp.changedTouches[0].pageX;\r\n\t\t},\r\n\r\n\t\ttouchEnd: function(e) {\r\n\t\t\tthis.endX = e.mp.changedTouches[0].pageX;\r\n\t\t\tif (this.endX - this.startX > 200) {\r\n\t\t\t\tuni.navigateBack();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n","import mod from \"-!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addmemory.vue?vue&type=style&index=0&id=5e764ef8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载/微信小程序/HBuilderX.2.5.1.20200103.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addmemory.vue?vue&type=style&index=0&id=5e764ef8&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}